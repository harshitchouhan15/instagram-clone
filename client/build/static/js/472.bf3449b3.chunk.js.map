{"version":3,"file":"static/js/472.bf3449b3.chunk.js","mappings":"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","sources":["pages/Explore.jsx"],"sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {  useSelector} from \"react-redux\"\r\nimport { Avatar } from \"@mui/material\"\r\nimport { Link } from \"react-router-dom\"\r\nimport KeyboardBackspaceIcon from '@mui/icons-material/KeyboardBackspace';\r\nimport {axiosInstance} from '../config'\r\nimport { useState,useEffect } from 'react'\r\nimport {Flex} from \"./Home\"\r\nimport Navbar from './Navbar'\r\nimport SinglePost from \"./SinglePost\"\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CommentSection from \"./CommentSection\"\r\nimport HomePost from './HomePost'\r\n\r\nconst Explore = ({socket}) => {\r\n    const [open,setOpen]=useState(false)\r\n    const [fetch,setFetch]=useState(false)\r\n    const [posts,setPosts] = useState([])\r\n    const [mobilePosts,setMobilePosts] = useState([])\r\n    const [slice,setSlice]=useState(0)\r\n    const [index,setIndex]=useState(null)\r\n    const [users,setUsers]=useState([])\r\n    const [query,setQuery]=useState('')\r\n    const darkMode=useSelector(state=>state.darkMode)\r\n    const user=useSelector(state=>state.user.currentUser)\r\n    const [result,setResult]=useState(false)\r\n  \r\n    const [openComment, setOpenComment] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        const getUsers=async()=>{\r\n            const res= await axiosInstance.get(\"/users/all/users\", {headers:{token:\"Bearer \"+user?.accessToken}})\r\n            setUsers(res.data)\r\n           \r\n        }\r\n        getUsers()\r\n        \r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        const getPosts = async()=>{\r\n            try{\r\n                const res= await axiosInstance.get(\"/posts/all/posts\")        \r\n                    setPosts(res.data)                     \r\n            }\r\n           catch(e){\r\n            console.log(e)\r\n           }         \r\n        }\r\n        getPosts()\r\n    },[fetch])\r\n\r\nuseEffect(()=>{\r\n    const slicedPosts=posts.slice(index,posts.length)\r\n   open&& setMobilePosts(slicedPosts)\r\n},[index,posts])\r\n\r\n\r\n\r\n  \r\n\r\n  return (\r\n\r\n    <Flex>\r\n\r\n        <SinglePost open={open} socket={socket} setIndex={setIndex} index={index} length={posts.length}\r\n        setOpen={setOpen}  selected={posts[index]} fetch={fetch} setFetch={setFetch} />\r\n\r\n\r\n<Navbar socket={socket}/>\r\n \r\n    <Container>\r\n        <Search darkMode={darkMode} open={open}>\r\n      \r\n        <Input  onClick={()=>setResult(true)} value={query} onChange={(e)=>setQuery(e.target.value.toLowerCase())} placeholder='Search'/>\r\n        <CloseIcon onClick={()=>{setResult(false);setQuery('')}}/>\r\n        </Search>\r\n        <Result darkMode={darkMode} result={result}>\r\n        {users.filter(u=>u.username.includes(query|| u.name.toLowerCase().includes(query))).map(\r\n        (user,i)=>(\r\n            <Link className={darkMode?'darkModeLink':\"link\"} key={i} to={`/account/?user=${user._id}`} >\r\n             <User >\r\n               \r\n              <span> <Avatar src={user.profilePic}/>\r\n            <span>{user.username}</span>\r\n            </span> \r\n        \r\n        </User></Link>\r\n        )\r\n    )}\r\n\r\n        </Result>\r\n\r\n\r\n        <MobileFeed open={open}>\r\n            <Back darkMode={darkMode}>\r\n               <KeyboardBackspaceIcon fontSize=\"large\" onClick={()=>setOpen(false)}/>\r\n            </Back>\r\n\r\n\r\n        <CommentSection  setOpenComment={setOpenComment} fetch={fetch} setFetch={setFetch}\r\n          openComment={openComment} selected={mobilePosts[slice]}/>\r\n          \r\n                    {mobilePosts.map((item,i)=>(\r\n                         <HomePost key={i} setFetch={setFetch} fetch={fetch} socket={socket} index={i} setIndex={setSlice}\r\n                         item={item}    setOpen={setOpen}  setOpenComment={setOpenComment} />\r\n                    ))}\r\n              \r\n                </MobileFeed>\r\n\r\n\r\n        <Feed open={open}>\r\n            {posts.map((item,i)=>(\r\n                <Post onClick={()=>{setOpen(true);setIndex(i)}} key={i}>\r\n                  {\r\n                    item.isReel? <Video  src={item.video}/> \r\n                    : <Image src={item.image}/>\r\n                  }  \r\n                    \r\n                   \r\n                </Post>\r\n            ))}\r\n\r\n        </Feed>\r\n    </Container>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default Explore\r\n\r\nconst Container=styled.div`\r\n    width: 84vw;\r\n    display: flex;\r\n   \r\n    flex-direction: column;\r\n    @media screen and (max-width:768px){\r\n    width: 100vw;\r\n    height: 100vh;\r\n    overflow-y: auto;\r\n    }\r\n`\r\n\r\n\r\nconst Back=styled.div`\r\n    height: 5vh;\r\n    background-color: white;\r\n    background-color: ${props=>props.darkMode&&'black'};\r\n    color: ${props=>props.darkMode&&'white'};\r\n    position: fixed;\r\n    top: 0;\r\n    z-index: 999;\r\n    width: 100vw;\r\n    display: flex;\r\n    align-items: center;\r\n    padding-left: 12px;\r\n`\r\n\r\nconst Search=styled.div`\r\n    display: none;\r\n    align-items: center;\r\n    height: 5vh;\r\n    padding: 5px 10px;\r\n    border-radius:8px;\r\n    background-color: #ececec;\r\n    background-color: ${props=>props.darkMode&&'#f9f8fb'};\r\n    color: ${props=>props.darkMode&&'black'};\r\n    width: 95vw;\r\n    justify-content: space-between;\r\n    margin: 5px auto;\r\n    @media screen and (max-width:768px){\r\n        display: flex;\r\n        display: ${props=>props.open&&\"none\"};\r\n    }\r\n`\r\n\r\nconst Result=styled.div` \r\n    width: 100vw;\r\n    height: 94vh;\r\n    overflow-y: auto;\r\n   flex-direction: column;\r\n   display: none;\r\n padding-top: 20px;\r\n   position: fixed;\r\n   top: 6vh;\r\n    gap: 20px;\r\n z-index: 1000;\r\n   background-color: white;\r\n   background-color: ${props=>props.darkMode&&'black'};\r\n  color: ${props=>props.darkMode&&'#f9f8fb'};\r\n   @media screen and (max-width:768px){\r\n    display: ${props=>props.result&&\"flex\"};\r\n    };\r\n`\r\n\r\nconst MobileFeed=styled.div`\r\n    padding: 0;\r\n    display: none;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 15px;\r\n    width: 66%;\r\n    \r\n    @media screen and (max-width:768px){\r\n       width: 100%;\r\n       padding: 5vh 0 7vh 0;\r\n       display: ${props=>props.open&&\"flex\"};\r\n    };\r\n\r\n  \r\n`\r\n\r\n\r\n\r\nconst User=styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    transition: all 0.4s ease;\r\n    cursor: pointer;\r\n    margin-bottom: 10px;\r\n    padding-left: 20px;\r\n    &:hover{\r\n        background-color: #eeeded;\r\n        \r\n        border-radius: 5px;\r\n        &>button{\r\n            color: #434343;\r\n    }\r\n    };\r\n    &>span{\r\n        display: flex;\r\n  gap: 8px;\r\n    align-items: center;\r\n    }\r\n`\r\n\r\nconst Input=styled.input`\r\n    border: none;\r\n    background-color: transparent;\r\n    flex: 9;\r\n    &:focus{\r\n        outline: none;\r\n    }\r\n`\r\n\r\nconst Feed=styled.div`\r\n    width: 58.8vw;\r\n    margin-inline: auto;\r\n    margin-top: 25px;\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    grid-auto-rows: 19.6vw;\r\n    grid-column-gap: 3px;\r\n    grid-row-gap: 3px;\r\nmargin-bottom: 30px;\r\n    @media screen and (max-width:768px){\r\n       width: 100%;\r\n       margin-top: 7px;\r\n       margin-bottom: 7vh;\r\n       grid-auto-rows: 33.3vw;\r\n       display: ${props=>props.open&&\"none\"};\r\n\r\n    };\r\n    &>:nth-child(10n-7){\r\n        grid-row: span 2;\r\n    };\r\n    &>:nth-child(10n-4){\r\n        grid-row: span 2;\r\n    }\r\n\r\n`\r\n\r\nconst Post=styled.div`\r\n   justify-content: center;\r\n    display: flex;\r\n   position: relative;\r\n   color: white;\r\n   cursor: pointer;\r\n    gap: 20px;\r\n    transition: all 0.5s ease;\r\n   align-items: center;\r\n   background-color: black;\r\n   @media screen and (max-width:768px){\r\n        \r\n    };\r\n    &:hover{\r\n        \r\n   &>span{\r\n    opacity: 1;\r\n   }\r\n        &>img{\r\n            opacity: 0.8;\r\n        }\r\n    }\r\n    \r\n    \r\n`\r\n\r\nconst Image=styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    \r\n    opacity: 1;\r\n    \r\n`\r\nconst Video=styled.video`\r\n    width: 100%;\r\n    height: 100%;\r\n    \r\n    opacity: 1;\r\n    \r\n`\r\n\r\n"],"names":["_ref","socket","_useState","useState","_useState2","_slicedToArray","open","setOpen","_useState3","_useState4","fetch","setFetch","_useState5","_useState6","posts","setPosts","_useState7","_useState8","mobilePosts","setMobilePosts","_useState9","_useState10","slice","setSlice","_useState11","_useState12","index","setIndex","_useState13","_useState14","users","setUsers","_useState15","_useState16","query","setQuery","darkMode","useSelector","state","user","currentUser","_useState17","_useState18","result","setResult","_useState19","_useState20","openComment","setOpenComment","useEffect","getUsers","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axiosInstance","get","headers","token","accessToken","sent","data","stop","apply","arguments","getPosts","_ref3","_callee2","_context2","t0","console","log","slicedPosts","length","_jsxs","Flex","children","_jsx","SinglePost","selected","Navbar","Container","Search","Input","onClick","value","onChange","e","target","toLowerCase","placeholder","CloseIcon","Result","filter","u","username","includes","name","map","i","Link","className","to","concat","_id","User","Avatar","src","profilePic","MobileFeed","Back","KeyboardBackspaceIcon","fontSize","CommentSection","item","HomePost","Feed","Post","isReel","Video","video","Image","image","styled","div","_templateObject","_taggedTemplateLiteral","_templateObject2","props","_templateObject3","_templateObject4","_templateObject5","_templateObject6","input","_templateObject7","_templateObject8","_templateObject9","img","_templateObject10","_templateObject11"],"sourceRoot":""}