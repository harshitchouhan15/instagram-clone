"use strict";(self.webpackChunkshopping=self.webpackChunkshopping||[]).push([[999],{9999:function(n,e,t){t.r(e),t.d(e,{default:function(){return on}});var i,r,o,s,c,d,l,a,u,p,x,f,h,m,v,g,Z,k,w,j,b,y,P,C,M,I=t(168),_=t(3433),S=t(4165),z=t(5861),E=t(9439),R=t(3044),F=t(3197),O=t(2791),T=t(9434),U=t(7689),B=t(6487),L=t(9770),N=t(498),A=t(165),W=t(3657),D=t(7317),H=t(6730),V=t(9720),X=t(5391),q=t(6120),G=t(2468),J=(t(5091),t(5321)),K=t(184),Q=function(){var n=(0,O.useState)(!1),e=(0,E.Z)(n,2),t=e[0],i=e[1],r=(0,T.v9)((function(n){return n.darkMode})),o=(0,T.I0)();return(0,K.jsxs)("div",{className:"menuIcon",children:[(0,K.jsx)(q.Z,{onClick:function(){return i(!t)}}),(0,K.jsx)(X.Z,{open:t,onBackdropClick:function(){return i(!1)},children:(0,K.jsxs)(Y,{darkMode:r,children:[(0,K.jsxs)(nn,{children:[(0,K.jsx)(en,{onClick:function(){return o((0,J.bP)())},children:(0,K.jsx)(tn,{darkMode:r})}),(0,K.jsx)("span",{children:"Dark Mode"})]}),(0,K.jsxs)($,{darkMode:r,onClick:function(){o((0,L.UR)()),o((0,J.S8)())},children:[(0,K.jsx)(G.Z,{}),(0,K.jsx)("p",{children:"Logout"})]})]})})]})},Y=B.ZP.div(i||(i=(0,I.Z)(["\n    position: fixed;\n    background-color: white;\n    background-color : ",";\n    color : "," ;\n    right: 42px;\n    top: 39px;\n      flex-direction: column;\n      height: max-content;\n      gap: 10px;\n      padding: 20px;\n      width: 60vw;\n   display: flex;\n  outline: 0.5px solid white;\n  outline: ",";\n"])),(function(n){return n.darkMode&&"black"}),(function(n){return n.darkMode&&"white"}),(function(n){return n.darkMode&&"0.5px solid #424243"})),$=B.ZP.span(r||(r=(0,I.Z)(["\n      padding: 10px;\n        cursor: pointer;\n        transition:all 0.5s ease;\n        border-radius: 5px;\n        display: flex;align-items: center;\n        gap: 16px;\n        color : "," ;\n   \n"])),(function(n){return n.darkMode&&"white"})),nn=B.ZP.div(o||(o=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    gap: 15px;\n  padding: 7px 10px;\n  padding: ",";\n\n"])),(function(n){return n.hide&&"7px 0"})),en=B.ZP.div(s||(s=(0,I.Z)(["\n    width: 40px;\n    height: 20px;\n    border: 1px solid ",";\n    border-radius: 10px;\n    padding: 1px  ;\n    display: flex;\n    align-items: center;\n    background-color: white;\n  \n   \n"])),(function(n){return n.darkMode?"white":"black"})),tn=B.ZP.div(c||(c=(0,I.Z)(["\n       width: 18px;\n       cursor: pointer;\n        height: 18px;\n        border-radius: 50%;\n        background-color: #dcdedf;\n        background-color:",";\n        transform: translateX(",");\n"])),(function(n){return n.darkMode&&"black"}),(function(n){return n.darkMode&&"18px"})),rn=t(315),on=function(n){var e,t=n.socket,i=window.innerWidth,r=(0,T.v9)((function(n){return n.darkMode})),o=(0,O.useState)(!1),s=(0,E.Z)(o,2),c=s[0],d=s[1],l=(0,U.TH)(),a=(0,T.I0)(),u=l.search.split("=")[1],p=(0,O.useState)(null),x=(0,E.Z)(p,2),f=x[0],h=x[1],m=(0,T.v9)((function(n){return n.user.currentUser})),v=(0,O.useState)([]),g=(0,E.Z)(v,2),Z=g[0],k=g[1],w=(0,O.useState)({}),j=(0,E.Z)(w,2),b=j[0],y=j[1],P=(0,O.useState)([]),C=(0,E.Z)(P,2),M=C[0],I=C[1],B=M.find((function(n){return n===m._id})),X=(0,O.useState)(!1),q=(0,E.Z)(X,2),G=q[0],J=q[1],Y=(0,O.useState)(!1),$=(0,E.Z)(Y,2),nn=$[0],en=$[1],tn=(0,O.useState)(!1),on=(0,E.Z)(tn,2),Cn=on[0],Mn=on[1],In=(0,O.useState)([]),_n=(0,E.Z)(In,2),Sn=_n[0],zn=_n[1],En=(0,O.useState)(null),Rn=(0,E.Z)(En,2),Fn=Rn[0],On=Rn[1],Tn=(0,O.useState)(0),Un=(0,E.Z)(Tn,2),Bn=Un[0],Ln=Un[1],Nn=(0,O.useState)(!1),An=(0,E.Z)(Nn,2),Wn=An[0],Dn=An[1],Hn=(0,O.useState)("Posts"),Vn=(0,E.Z)(Hn,2),Xn=Vn[0],qn=Vn[1],Gn=(0,O.useState)(!0),Jn=(0,E.Z)(Gn,2),Kn=Jn[0],Qn=Jn[1],Yn=(0,O.useState)([]),$n=(0,E.Z)(Yn,2),ne=$n[0],ee=$n[1];(0,O.useEffect)((function(){k("Posts"===Xn?ne.filter((function(n){return!n.isReel})):ne.filter((function(n){return n.isReel})))}),[ne,Xn]),(0,O.useEffect)((function(){var n=Z.slice(Fn,Z.length);c&&zn(n)}),[Fn]),(0,O.useEffect)((function(){var n=function(){var n=(0,z.Z)((0,S.Z)().mark((function n(){var e;return(0,S.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.b.get("/users/"+u,{headers:{token:"Bearer "+m.accessToken}});case 3:e=n.sent,y(e.data),I(e.data.followers),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();n()}),[u,m]),(0,O.useEffect)((function(){var n=function(){var n=(0,z.Z)((0,S.Z)().mark((function n(){var e;return(0,S.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.b.get("/posts/userposts/"+b._id,{headers:{token:"Bearer "+m.accessToken}});case 3:e=n.sent,ee(e.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[b,m,nn]);var te=function(){var n=(0,z.Z)((0,S.Z)().mark((function n(){var e,i,r;return(0,S.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i={userId:m._id,profileId:b._id,text:"".concat(m.username," started following you.")},B&&(null===t||void 0===t||null===(e=t.current)||void 0===e||e.emit("startedFollowing",i)),n.prev=2,!B){n.next=6;break}return n.next=6,F.b.post("/noti/create",{notificationId:null===b||void 0===b?void 0:b._id,message:i},{headers:{token:"Bearer "+m.accessToken}});case 6:return n.next=8,F.b.put("/users/follow/"+b._id,{userId:m._id},{headers:{token:"Bearer "+m.accessToken}});case 8:r=n.sent,J(!1),a((0,L.he)(r.data)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.log("");case 16:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(){return n.apply(this,arguments)}}();return(0,O.useEffect)((function(){G&&te()}),[G]),(0,O.useEffect)((function(){Wn&&(0,W.tN)(f,W.ck,m._id,{},m.accessToken,a,L.he)}),[Wn]),(0,K.jsxs)(dn,{children:[(0,K.jsx)(A.Z,{open:c,socket:t,setIndex:On,index:Fn,length:Z.length,setOpen:d,selected:Z[Fn],fetch:nn,setFetch:en}),(0,K.jsx)(N.Z,{socket:t,id:u}),(0,K.jsxs)(an,{darkMode:r,children:[i<768&&(0,K.jsx)(Q,{}),(0,K.jsxs)(un,{open:c,children:[(0,K.jsxs)(pn,{children:[(0,K.jsxs)(xn,{children:[i>768?(0,K.jsx)(R.Z,{src:f?URL.createObjectURL(f):b.profilePic,sx:{width:"8vw",height:"8vw"}}):(0,K.jsx)(R.Z,{src:f?URL.createObjectURL(f):b.profilePic,sx:{width:"20vw",height:"20vw"}}),(0,K.jsx)("span",{children:b.name})]}),(0,K.jsxs)(fn,{children:[(0,K.jsxs)(mn,{children:[(0,K.jsxs)(gn,{children:[(0,K.jsx)(Zn,{darkMode:r,children:Xn}),(0,K.jsx)("p",{children:Z.length})]}),(0,K.jsxs)(gn,{onClick:function(){return d(!0)},children:[(0,K.jsx)(Zn,{darkMode:r,children:"Followers"}),(0,K.jsx)("p",{children:M.length})]}),(0,K.jsxs)(gn,{children:[(0,K.jsx)(Zn,{darkMode:r,children:"Following"}),(0,K.jsx)("p",{children:null===(e=b.following)||void 0===e?void 0:e.length})]})]}),(0,K.jsxs)(hn,{children:[(0,K.jsx)("span",{children:b.username}),m._id!==b._id&&(0,K.jsx)(yn,{onClick:function(){J(!0),I(B?M.filter((function(n){return n!==(null===m||void 0===m?void 0:m._id)})):function(n){return[].concat((0,_.Z)(n),[null===m||void 0===m?void 0:m._id])})},color:"white",bg:"#0095f6",children:B?"Unfollow":"Follow"}),m._id===b._id&&(0,K.jsxs)(K.Fragment,{children:["  ",(0,K.jsxs)(yn,{file:f,children:[(0,K.jsx)(Pn,{file:f,htmlFor:"img",children:"Edit"}),(0,K.jsx)("input",{id:"img",type:"file",onChange:function(n){return h(n.target.files[0])}}),f&&(0,K.jsx)("span",{onClick:function(){return Dn(!0)},children:Wn?(0,K.jsx)("div",{className:"loader"}):"Update"})]})]})]})]})]}),(0,K.jsxs)(kn,{children:[(0,K.jsxs)(wn,{children:[(0,K.jsx)(gn,{selected:"Posts"===Xn,onClick:function(){qn("Posts"),On(null),Qn(!0)},children:(0,K.jsx)("div",{children:"Posts"})}),(0,K.jsx)(gn,{selected:"Reels"===Xn,onClick:function(){qn("Reels"),On(null)},children:(0,K.jsx)("div",{children:"Reels"})})]}),(0,K.jsx)(jn,{children:Z.map((function(n,e){return"Posts"===Xn?(0,K.jsx)(bn,{onClick:function(){On(e),d(!0)},src:n.image},e):(0,K.jsx)(cn,{onClick:function(){On(e),d(!0)},src:n.video},e)}))})]})]}),c&&(0,K.jsxs)(vn,{open:c,children:[(0,K.jsx)(ln,{reels:"Reels"===Xn,darkMode:r,children:(0,K.jsx)(D.Z,{htmlColor:"Reels"===Xn&&"white",fontSize:"large",onClick:function(){d(!1)}})}),(0,K.jsx)(V.Z,{setOpenComment:Mn,fetch:nn,setFetch:en,openComment:Cn,selected:Sn[Bn]}),"Posts"===Xn?Sn.map((function(n,e){return(0,K.jsx)(H.Z,{setFetch:en,fetch:nn,socket:t,index:e,setIndex:Ln,item:n,setOpen:d,setOpenComment:Mn},e)})):(0,K.jsx)(sn,{id:"yourRootElement",children:Sn.map((function(n,e){return(0,K.jsx)(rn.Z,{setFetch:en,fetch:nn,socket:t,setMuted:Qn,muted:Kn,setIndex:Ln,index:e,id:"yourRootElement",item:n,setOpen:d,setOpenComment:Mn},e)}))})]})]})]})},sn=B.ZP.div(d||(d=(0,I.Z)(["\n    width: 30vw;\n   height: 85vh;\n   overflow-y: auto;\ndisplay: none;\nflex-direction: column;\n   scroll-snap-type: y mandatory;\n  scroll-behavior: smooth;\n  scrollbar-width: none;\n  &::-webkit-scrollbar{\n    display: none;\n  }\n    \n    @media screen and (max-width:768px){\n       width: 100%;    \n       height: 93vh;\n       display: flex;\n  \n       \n    \n    };\n"]))),cn=B.ZP.video(l||(l=(0,I.Z)(["\n   width: calc((100% - 10px) / 3);\nheight: 31vh;\nobject-fit: cover;\ncursor: pointer;\n@media screen and (max-width:768px){\n       height: 14.5vh;\n       width: calc((100% - 6px) / 3);\n    }  \n"]))),dn=B.ZP.div(a||(a=(0,I.Z)(["\n    display:flex;\n    width:100vw;\n    justify-content:space-between\n"]))),ln=B.ZP.div(u||(u=(0,I.Z)(["\n    height: 5vh;\n    background-color: white;\n    background-color: ",";\n    color: ",";\n    position: fixed;\n    top: 0;\n    z-index: 999;\n    width: 100vw;\n    display: flex;\n    align-items: center;\n    padding-left: 12px;\n    background-color: ",";\n   \n"])),(function(n){return n.darkMode&&"black"}),(function(n){return n.darkMode&&"white"}),(function(n){return n.reels&&"transparent"})),an=B.ZP.div(p||(p=(0,I.Z)(["\n    width: 84vw;\n    display: flex;\n    justify-content: center;\n    background-color: ",";\n\n    @media screen and (max-width:768px){\n     width: 100vw;\n     min-height: 100vh;\n    }\n"])),(function(n){return n.darkMode&&"black"})),un=B.ZP.div(x||(x=(0,I.Z)(["\n    width: 75%;\n    display: flex;\n    flex-direction: column;\n    padding-top: 32px;\n    gap: 35px;\n    @media screen and (max-width:768px){\n        width: 100vw;\n        display: ",";\n    }\n"])),(function(n){return n.open&&"none"})),pn=B.ZP.div(f||(f=(0,I.Z)(["\n   \n    display: flex;\n   align-items: center;\n    padding-left: 6vw;\n    gap: 8vw;\n    @media screen and (max-width:768px){\n        align-items: center;\n        margin-top: 20px;\n    }\n"]))),xn=B.ZP.div(h||(h=(0,I.Z)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\ngap: 10px;\n&>span{\n    align-self: center;\n}\n@media screen and (max-width:768px){\n    &>span{\n   font-size: 14px;\n}\n    }\n"]))),fn=B.ZP.div(m||(m=(0,I.Z)(["\n     display: flex;\n     flex-direction: column;\n     gap: 25px;\n"]))),hn=B.ZP.div(v||(v=(0,I.Z)(["\ndisplay: flex;\n   align-items: center; \n    gap:20px;\n@media screen and (max-width:768px){      \n      font-size: 14px;\n    }\n \n"]))),mn=B.ZP.div(g||(g=(0,I.Z)(["\n   align-items: center;\n    display: flex;\n    @media screen and (max-width:768px){\n      \n      font-size: 14px;\n    }\n    gap: 4vw;\n"]))),vn=B.ZP.div(Z||(Z=(0,I.Z)(["\n    padding: 0;\n    display: none;\n    flex-direction: column;\n    align-items: center;\n    gap: 15px;\n    width: 66%;\n    \n    @media screen and (max-width:768px){\n       width: 100%;\n       padding: 0 0 7vh 0;\n       display: ",";\n    };\n\n  \n"])),(function(n){return n.open&&"flex"})),gn=B.ZP.div(k||(k=(0,I.Z)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\ngap: 3px;\ncolor: ",";\nfont-weight: ",";\nborder-bottom: ",";\n"])),(function(n){return n.selected&&"#0095f6"}),(function(n){return n.selected&&500}),(function(n){return n.selected&&"0.7px solid #5e5e5f"})),Zn=B.ZP.span(w||(w=(0,I.Z)(["\nfont-weight: 500;\n    color: #292929;\n    color:",";\n"])),(function(n){return n.darkMode&&"#cbcacc"})),kn=B.ZP.div(j||(j=(0,I.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 38px;\n    padding: 15px;\n    border-top: 0.5px solid #e0e0e3;\n    align-items: center;\n    @media screen and (max-width:768px){\n       padding: 15px 0;\n    }\n"]))),wn=B.ZP.div(b||(b=(0,I.Z)(["\n    display: flex;\n    align-items: center;\n    gap: 60px;\n    &>*{\n        cursor: pointer;\n    }\n"]))),jn=B.ZP.div(y||(y=(0,I.Z)(["\n    display: flex;\n    flex-wrap:wrap;\n    width: 90%;\n    gap: 5px;\n    @media screen and (max-width:768px){\n       width: 100%;\n       gap: 3px;\n    }\n"]))),bn=B.ZP.img(P||(P=(0,I.Z)(["\nwidth: calc((100% - 10px) / 3);\nheight: 31vh;\ncursor: pointer;\n@media screen and (max-width:768px){\n       height: 14.5vh;\n       width: calc((100% - 6px) / 3);\n    }  \n"]))),yn=B.ZP.button(C||(C=(0,I.Z)(["\nborder: none;\npadding:5px 15px;\npadding:",";\ndisplay: flex;\nborder-radius: 4px;\ncursor: pointer;\nfont-size: 16px;\nbackground-color: #ebe6e6;\nbackground-color:",";\ncolor:",";\n&>span{\n    cursor: pointer;\n    background-color: #0095f6;\n    color:white;\n    padding:5px 15px;\n}\n;\n&>input{\n    display: none;\n};\n@media screen and (max-width:768px){\n      \n      font-size: 14px;\n    }\n"])),(function(n){return n.file&&0}),(function(n){return n.bg}),(function(n){return n.color})),Pn=B.ZP.label(M||(M=(0,I.Z)(["\ndisplay: ",";\ncursor: pointer;\n"])),(function(n){return n.file&&"none"}))},6730:function(n,e,t){var i,r,o,s,c,d,l,a,u,p,x,f,h,m,v=t(168),g=t(3433),Z=t(4165),k=t(5861),w=t(9439),j=t(3044),b=t(7229),y=t(7488),P=t(6487),C=t(8263),M=t(7237),I=t(1671),_=t(2961),S=t(1942),z=t(2791),E=t(3197),R=t(9434),F=t(6614),O=t(8720),T=t(2442),U=t(3688),B=t(6682),L=t(6338),N=t(184);e.Z=function(n){var e,t=n.setFetch,i=n.fetch,r=n.item,o=n.setIndex,s=n.setOpen,c=n.setOpenComment,d=n.socket,l=n.index,a=n.setMuted,u=n.muted,p=(0,R.v9)((function(n){return n.user.currentUser})),x=(0,z.useState)(r.likes),f=(0,w.Z)(x,2),h=f[0],m=f[1],v=(0,z.useState)(!1),P=(0,w.Z)(v,2),en=P[0],tn=P[1],rn=null===h||void 0===h?void 0:h.find((function(n){return n===p._id})),on=(0,R.v9)((function(n){return n.darkMode})),sn=(0,z.useRef)(),cn=(0,z.useState)(!1),dn=(0,w.Z)(cn,2),ln=dn[0],an=dn[1],un=(0,z.useState)(!1),pn=(0,w.Z)(un,2),xn=pn[0],fn=pn[1],hn=(0,z.useRef)(null);(0,z.useEffect)((function(){var n=new IntersectionObserver((function(n){n.forEach((function(n){n.isIntersecting?an(!0):an(!1)}))}));return null!==sn&&void 0!==sn&&sn.current&&n.observe(null===sn||void 0===sn?void 0:sn.current),function(){n.disconnect()}}),[]);var mn=function(){var n=(0,k.Z)((0,Z.Z)().mark((function n(e){var r,o;return(0,Z.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={profileId:e.postId,postId:e._id,text:"".concat(p.username," liked your post")},n.prev=1,!rn||e.postId===(null===p||void 0===p?void 0:p._id)){n.next=6;break}return null===d||void 0===d||null===(o=d.current)||void 0===o||o.emit("postLiked",r),n.next=6,E.b.post("/noti/create",{notificationId:e.postId,message:r},{headers:{token:"Bearer "+p.accessToken}});case 6:return n.next=8,E.b.put("/posts/like/"+e._id,{userId:p._id},{headers:{token:"Bearer "+p.accessToken}});case 8:t(!i),tn(!1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.log("");case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}();(0,z.useEffect)((function(){var n,e;ln?(null===hn||void 0===hn||null===(n=hn.current)||void 0===n||n.play(),fn(!0)):(null===hn||void 0===hn||null===(e=hn.current)||void 0===e||e.pause(),fn(!1))}),[ln]),(0,z.useEffect)((function(){m(r.likes)}),[r]),(0,z.useEffect)((function(){en&&mn(r)}),[en]);return(0,N.jsxs)(H,{ref:sn,children:[(0,N.jsxs)(V,{children:[(0,N.jsx)(S.F,{to:"/account/?user=".concat(r.postId),children:(0,N.jsxs)(X,{children:[(0,N.jsx)(j.Z,{src:r.profilePic}),(0,N.jsx)(S.F,{darkMode:on,children:r.username})]})}),(0,N.jsx)("img",{src:C.Z,alt:""})]}),(0,N.jsxs)(q,{children:[r.isReel&&(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(A,{onClick:function(){return a(!u)},children:u?(0,N.jsx)(L.Z,{htmlColor:"white"}):(0,N.jsx)(B.Z,{htmlColor:"white"})})}),r.isReel?ln&&(0,N.jsx)(J,{onClick:function(){var n;xn?(null===hn||void 0===hn||null===(n=hn.current)||void 0===n||n.pause(),fn(!1)):(null===hn||void 0===hn||hn.current.play(),fn(!0))},muted:u,ref:hn,loop:!0,src:r.video}):(0,N.jsx)(G,{onClick:function(){o(l),s(!0)},src:r.image})]}),(0,N.jsxs)(K,{children:[(0,N.jsxs)(Q,{children:[(0,N.jsxs)(Y,{children:[rn?(0,N.jsx)(M.Z,{htmlColor:"crimson",onClick:function(){m(h.filter((function(n){return n!==(null===p||void 0===p?void 0:p._id)}))),tn(!0)}}):(0,N.jsx)(y.Z,{onClick:function(){m((function(n){return[].concat((0,g.Z)(n),[null===p||void 0===p?void 0:p._id])})),tn(!0)}}),(0,N.jsx)("img",{src:on?b.Z:I.Z,alt:"",onClick:function(){c(!0),o(l),s(!0)}}),(0,N.jsx)("img",{src:on?T.Z:_.Z,alt:"",onClick:function(){o(l),s(!0)}})]}),(0,N.jsx)($,{src:on?O.Z:F.Z})]}),(0,N.jsxs)("span",{children:[h.length," likes"]}),(0,N.jsxs)(D,{children:[(0,N.jsx)("span",{children:r.username})," ",(0,N.jsx)("p",{children:r.caption})]}),(0,N.jsx)(W,{darkMode:on,children:(0,U.WU)(r.createdAt)}),(0,N.jsxs)("span",{onClick:function(){o(l),s(!0),c(!0)},children:["view all ",null===(e=r.comments)||void 0===e?void 0:e.length," comments"]}),(0,N.jsx)(nn,{darkMode:on,onClick:function(){o(l),s(!0)},type:"text",placeholder:"Add a comment"})]})]})};var A=P.ZP.button(i||(i=(0,v.Z)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  border:none;\n background-color: transparent;\n  opacity:1;\n transition: all 0.6s ease;\n z-index: 99;\n  cursor: pointer;\n \n  @media screen and (max-width:768px){\n        opacity: 1;\n    }\n \n \n"]))),W=P.ZP.p(r||(r=(0,v.Z)(["\n  font-size: 13px;\n  font-family:'Poppins';\n  color:#545252;\n  color:","\n\n"])),(function(n){return n.darkMode&&"#b5b5b5"})),D=P.ZP.div(o||(o=(0,v.Z)(["\ndisplay: flex;\n    gap: 5px;\n    font-size: 16px;\n    font-weight: 500;\n    \n   &>p{\n    font-size: 14px;\n    font-weight: 300;\n\n    \n   }\n"]))),H=P.ZP.div(s||(s=(0,v.Z)(["\n    display: flex;\n    flex-direction: column;\n    width: 55%;\n    gap: 10px;\n    padding-bottom: 10px;\n    border-bottom: 0.8px solid #cac8cc;\n    \n    @media screen and (max-width:768px){\n        width: 100%;\n        \n    }\n"]))),V=P.ZP.div(c||(c=(0,v.Z)(["\n    display: flex;\n   justify-content: space-between;\n   align-items: center;\n   @media screen and (max-width:768px){\n        padding: 0 15px;\n        \n    }\n   &>*{\n        cursor: pointer;\n    }\n"]))),X=P.ZP.span(d||(d=(0,v.Z)(["\n    display: flex;\n    gap: 8px;\n    align-items: center;\n    padding-left: 8px;\n    @media screen and (max-width:768px){\n        padding: 0 ;\n        \n    }\n   \n"]))),q=P.ZP.div(l||(l=(0,v.Z)(["\n    display: flex;\n    position: relative;\n   height: 70vh;\n  align-items: flex-end;\n   cursor: pointer;\n   \n   @media screen and (max-width:768px){\n        height: 63vh;\n      \n    }\n"]))),G=P.ZP.img(a||(a=(0,v.Z)(["\n    width: 100%;\n    height: 100%;\n    border-radius: 2px;\n"]))),J=P.ZP.video(u||(u=(0,v.Z)(["\n    width: 100%;\n    height: 100%;\n    border-radius: 2px;\n    object-fit: cover;\n   \n"]))),K=P.ZP.div(p||(p=(0,v.Z)(["\n   display: flex;\n   flex-direction: column;\n   gap: 6px;\n   font-size: 15px;\n   @media screen and (max-width:768px){\n        padding: 0 15px;\n        gap: 4px;\n    }\n"]))),Q=P.ZP.div(x||(x=(0,v.Z)(["\n    display: flex;\n   justify-content: space-between;\n   align-items: center;\n"]))),Y=P.ZP.div(f||(f=(0,v.Z)(["\n    display: flex;\n  gap: 18px;\n   align-items: center;\n   &>*{\n        cursor: pointer;\n    }\n"]))),$=P.ZP.img(h||(h=(0,v.Z)(["\n    cursor: pointer;\n"]))),nn=P.ZP.input(m||(m=(0,v.Z)(["\n  border: none;\n  background-color:",";\n  &:focus{\n    outline: none;\n  };\n  @media screen and (max-width:768px){\n       display: none;\n    }\n"])),(function(n){return n.darkMode?"black":"white"}))},315:function(n,e,t){var i,r,o,s,c,d,l,a=t(168),u=t(3433),p=t(4165),x=t(5861),f=t(9439),h=t(3044),m=t(7488),v=t(6487),g=t(7237),Z=t(7229),k=t(2442),w=t(8720),j=t(1942),b=t(2791),y=t(3197),P=t(9434),C=t(6682),M=t(6338),I=t(2898),_=t(184);e.Z=function(n){var e,t=n.setFetch,i=n.fetch,r=n.item,o=n.muted,s=n.setIndex,c=n.setMuted,d=n.setOpen,l=n.setOpenComment,a=n.socket,v=n.index,U=n.id,B=(0,P.v9)((function(n){return n.user.currentUser})),L=(0,b.useState)([]),N=(0,f.Z)(L,2),A=N[0],W=N[1],D=(0,b.useState)(!1),H=(0,f.Z)(D,2),V=H[0],X=H[1],q=null===A||void 0===A?void 0:A.find((function(n){return n===B._id})),G=(0,P.v9)((function(n){return n.darkMode})),J=(0,b.useRef)(null);(0,b.useEffect)((function(){var n={root:document.getElementById(U),rootMargin:"0px",threshold:.7},e=new IntersectionObserver((function(n){n.forEach((function(n){var e,t;n.isIntersecting?null===J||void 0===J||null===(e=J.current)||void 0===e||e.play():(null!==J&&void 0!==J&&J.current&&(J.current.currentTime=0),null===J||void 0===J||null===(t=J.current)||void 0===t||t.pause())}))}),n);return e.observe(null===J||void 0===J?void 0:J.current),function(){e.disconnect()}}),[]);var K=function(){var n=(0,x.Z)((0,p.Z)().mark((function n(e){var r,o;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={profileId:e.postId,reelId:e._id,text:"".concat(B.username," liked your reel")},n.prev=1,n.next=4,y.b.put("/posts/like/"+e._id,{userId:B._id},{headers:{token:"Bearer "+B.accessToken}});case 4:if(!q||e.postId===(null===B||void 0===B?void 0:B._id)){n.next=8;break}return null===a||void 0===a||null===(o=a.current)||void 0===o||o.emit("postLiked",r),n.next=8,y.b.post("/noti/create",{notificationId:e.reelId,message:r},{headers:{token:"Bearer "+B.accessToken}});case 8:t(!i),X(!1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,b.useEffect)((function(){W(r.likes)}),[r]),(0,b.useEffect)((function(){V&&K(r)}),[V]),(0,_.jsxs)(S,{darkMode:G,children:[(0,_.jsx)(F,{onClick:function(){return c(!o)},children:o?(0,_.jsx)(M.Z,{htmlColor:"white"}):(0,_.jsx)(C.Z,{htmlColor:"white"})}),(0,_.jsx)(R,{onClick:function(){s(v),d(!0)},muted:o,ref:J,loop:!0,darkMode:G,src:r.video}),(0,_.jsxs)(z,{darkMode:G,children:[(0,_.jsxs)(E,{children:[q?(0,_.jsx)(g.Z,{htmlColor:"crimson",onClick:function(){W(A.filter((function(n){return n!==(null===B||void 0===B?void 0:B._id)}))),X(!0)}}):(0,_.jsx)(m.Z,{htmlColor:"white",onClick:function(){W((function(n){return[].concat((0,u.Z)(n),[null===B||void 0===B?void 0:B._id])})),X(!0)}}),(0,_.jsx)("span",{children:A.length})]}),(0,_.jsxs)(E,{children:[(0,_.jsx)("img",{src:Z.Z,alt:"",onClick:function(){l(!0),s(v),d(!0)}}),(0,_.jsxs)("span",{onClick:function(){s(v),d(!0),l(!0)},children:[" ",null===(e=r.comments)||void 0===e?void 0:e.length," "]})]}),(0,_.jsxs)(E,{children:[" ",(0,_.jsx)("img",{src:k.Z,alt:""})]}),(0,_.jsxs)(E,{children:["  ",(0,_.jsx)("img",{src:w.Z,alt:""})]}),(0,_.jsx)(E,{children:(0,_.jsx)(I.Z,{htmlColor:"white"})})]}),(0,_.jsxs)(T,{children:[(0,_.jsx)(j.F,{to:"/account/?user=".concat(r.reelId),children:(0,_.jsxs)(O,{children:[(0,_.jsx)(h.Z,{src:r.profilePic}),(0,_.jsxs)("span",{style:{color:"white"},children:[r.username," "]})]})}),(0,_.jsx)("span",{style:{color:"#f6f5f7",fontSize:"14px"},children:r.caption})]})]})};var S=v.ZP.div(i||(i=(0,a.Z)(["\n    display: flex;\n    width: 27vw;\n    min-height: 79vh;\n   \n    scroll-snap-align: start;\n    \n   position: relative;\n   box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n    border-radius: 10px;\n    \n    margin-inline: auto;\n    align-items: start;\n    background-color: black;\n    &:hover{\n      &>button{\n        opacity: 1;\n      }\n    }\n    @media screen and (max-width:768px){\n        width: 100vw;\n        min-height: 93vh;\n        border: none;\n        border-radius: 0;\n       \n    }\n"]))),z=v.ZP.div(r||(r=(0,a.Z)(["\n    display: flex;\n    flex-direction: column;\n   align-items: center;\n   gap: 15px;\n   position: absolute;\n   right: 0;\n   padding: 10px;\n   bottom: 8px;\n   z-index: 2;\n   color:'white';\n   @media screen and (max-width:768px){\n        padding: 0 15px;\n        bottom: 40px;\n        \n    }\n   &>*{\n        cursor: pointer;\n    }\n"]))),E=v.ZP.span(o||(o=(0,a.Z)(["\n    display: flex;\n    flex-direction: column;\n   align-items: center;\n   gap: 3px;\n color: white;\n"]))),R=v.ZP.video(s||(s=(0,a.Z)(["\nbox-shadow: 2px 2px 4px 2px #f0efee;\nbox-shadow: ",";\n    border-radius: 10px;\n    width: 100%;\n   height: 100%;\npadding: 0;\nobject-fit: cover;\n@media screen and (max-width:768px){\n        border-radius: 0;\n        box-shadow: none;\n        \n    }\n"])),(function(n){return n.darkMode&&"-0.5px -0.5px 2px 1px #191919"})),F=v.ZP.button(c||(c=(0,a.Z)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  border:none;\n  background-color:transparent;\n  opacity:0;\n  transition: all 0.5s ease;\n  cursor: pointer;\n  z-index: 999;\n  @media screen and (max-width:768px){\n        opacity: 1;\n        \n    }\n"]))),O=v.ZP.div(d||(d=(0,a.Z)(["\n   display: flex;\n \n   gap: 8px;\n   font-size: 16px;\n   align-items: center;\n  \n   @media screen and (max-width:768px){\n       \n        gap: 8px;\n        font-size: 18px;\n    }\n"]))),T=v.ZP.div(l||(l=(0,a.Z)(["\n    display: flex;\n   gap: 8px;\n   flex-direction: column;\n  \n   position:absolute;\n   bottom: 18px;\n   \n   padding-left: 15px;\n   @media screen and (max-width:768px){\n       bottom: 40px;\n       padding-left: 18px;\n    }\n   \n"])))},2898:function(n,e,t){var i=t(4836);e.Z=void 0;var r=i(t(5649)),o=t(184),s=(0,r.default)((0,o.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");e.Z=s},6120:function(n,e,t){var i=t(4836);e.Z=void 0;var r=i(t(5649)),o=t(184),s=(0,r.default)((0,o.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"SettingsOutlined");e.Z=s}}]);
//# sourceMappingURL=999.828093bd.chunk.js.map